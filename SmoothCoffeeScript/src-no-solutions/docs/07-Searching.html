<!DOCTYPE html>  <html> <head>   <title>07-Searching.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="00-Foreword.html">                 00-Foreword.coffee               </a>                                           <a class="source" href="01-Introduction.html">                 01-Introduction.coffee               </a>                                           <a class="source" href="02-BasicCoffeeScript.html">                 02-BasicCoffeeScript.coffee               </a>                                           <a class="source" href="03-Functions.html">                 03-Functions.coffee               </a>                                           <a class="source" href="04-DataStructures.html">                 04-DataStructures.coffee               </a>                                           <a class="source" href="04-emails.html">                 04-emails.coffee               </a>                                           <a class="source" href="05-ErrorHandling.html">                 05-ErrorHandling.coffee               </a>                                           <a class="source" href="06-FunctionalProgramming.html">                 06-FunctionalProgramming.coffee               </a>                                           <a class="source" href="07-Searching.html">                 07-Searching.coffee               </a>                                           <a class="source" href="08-ObjectOrientation.html">                 08-ObjectOrientation.coffee               </a>                                           <a class="source" href="09-RegularExpressions.html">                 09-RegularExpressions.coffee               </a>                                           <a class="source" href="10-Circular.html">                 10-Circular.coffee               </a>                                           <a class="source" href="10-CircularTest.html">                 10-CircularTest.coffee               </a>                                           <a class="source" href="10-MathFix.html">                 10-MathFix.coffee               </a>                                           <a class="source" href="10-Modularity.html">                 10-Modularity.coffee               </a>                                           <a class="source" href="10-SeedLife.html">                 10-SeedLife.coffee               </a>                                           <a class="source" href="10-TestWebSockets.html">                 10-TestWebSockets.coffee               </a>                                           <a class="source" href="10-WebSocketLife.html">                 10-WebSocketLife.coffee               </a>                                           <a class="source" href="A1-LanguageExtras.html">                 A1-LanguageExtras.coffee               </a>                                           <a class="source" href="A2-BinaryHeap.html">                 A2-BinaryHeap.coffee               </a>                                           <a class="source" href="A2-BinaryHeapTest.html">                 A2-BinaryHeapTest.coffee               </a>                                           <a class="source" href="A3-Microbench.html">                 A3-Microbench.coffee               </a>                                           <a class="source" href="A3-Microtest.html">                 A3-Microtest.py               </a>                                           <a class="source" href="A3-Queen.html">                 A3-Queen.coffee               </a>                                           <a class="source" href="A3-Queens.html">                 A3-Queens.py               </a>                                           <a class="source" href="A4-NoSolutions.html">                 A4-NoSolutions.coffee               </a>                                           <a class="source" href="coffeekup.html">                 coffeekup.coffee               </a>                                           <a class="source" href="prelude.html">                 prelude.coffee               </a>                                           <a class="source" href="underscore.html">                 underscore.coffee               </a>                                           <a class="source" href="ws.html">                 ws.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               07-Searching.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre><span class="nx">require</span> <span class="s1">&#39;./prelude&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>Bring underscore into global</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">globalize</span> <span class="nx">_</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>Road representations</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="s1">&#39;--- Road representations ---&#39;</span>
<span class="nv">roads = </span><span class="p">[</span>
  <span class="p">{</span> <span class="nv">point1: </span><span class="s1">&#39;Point Kiukiu&#39;</span><span class="p">,</span> <span class="nv">point2: </span><span class="s1">&#39;Hanaiapa&#39;</span><span class="p">,</span> <span class="nv">length: </span><span class="mi">19</span> <span class="p">}</span>
  <span class="p">{</span> <span class="nv">point1: </span><span class="s1">&#39;Point Kiukiu&#39;</span><span class="p">,</span> <span class="nv">point2: </span><span class="s1">&#39;Mt Feani&#39;</span><span class="p">,</span> <span class="nv">length: </span><span class="mi">15</span> <span class="p">}</span>
<span class="p">]</span> <span class="c1"># and so on</span>
<span class="nx">show</span> <span class="nx">roads</span>

<span class="nv">roads = </span><span class="p">{</span> <span class="s1">&#39;Point Kiukiu&#39;</span><span class="o">:</span> <span class="p">[</span> <span class="p">{</span><span class="nv">to: </span><span class="s1">&#39;Hanaiapa&#39;</span><span class="p">,</span> <span class="nv">distance: </span><span class="mi">19</span><span class="p">},</span>
                            <span class="p">{</span><span class="nv">to: </span><span class="s1">&#39;Mt Feani&#39;</span><span class="p">,</span> <span class="nv">distance: </span><span class="mi">15</span><span class="p">},</span>
                            <span class="p">{</span><span class="nv">to: </span><span class="s1">&#39;Taaoa&#39;</span><span class="p">,</span> <span class="nv">distance: </span><span class="mi">15</span><span class="p">}</span> <span class="p">],</span>
          <span class="s1">&#39;Taaoa&#39;</span><span class="o">:</span>        <span class="p">[</span> <span class="p">]</span> <span class="c1"># et cetera</span>
        <span class="p">}</span>
<span class="nx">show</span> <span class="nx">roads</span></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>Function makeRoad</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="s1">&#39;--- Function makeRoad ---&#39;</span>
<span class="nv">roads = </span><span class="p">{}</span>
<span class="nv">makeRoad = </span><span class="nf">(from, to, length) -&gt;</span>
  <span class="nv">addRoad = </span><span class="nf">(from, to) -&gt;</span>
    <span class="nx">roads</span><span class="p">[</span><span class="nx">from</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="o">not</span> <span class="p">(</span><span class="nx">from</span> <span class="k">of</span> <span class="nx">roads</span><span class="p">)</span>
    <span class="nx">roads</span><span class="p">[</span><span class="nx">from</span><span class="p">].</span><span class="nx">push</span> <span class="nv">to: </span><span class="nx">to</span><span class="p">,</span> <span class="nv">distance: </span><span class="nx">length</span>
  <span class="nx">addRoad</span> <span class="nx">from</span><span class="p">,</span> <span class="nx">to</span>
  <span class="nx">addRoad</span> <span class="nx">to</span><span class="p">,</span> <span class="nx">from</span>

<span class="nx">makeRoad</span> <span class="s1">&#39;Point Kiukiu&#39;</span><span class="p">,</span> <span class="s1">&#39;Hanaiapa&#39;</span><span class="p">,</span> <span class="mi">19</span>
<span class="nx">makeRoad</span> <span class="s1">&#39;Point Kiukiu&#39;</span><span class="p">,</span> <span class="s1">&#39;Mt Feani&#39;</span><span class="p">,</span> <span class="mi">15</span>
<span class="nx">makeRoad</span> <span class="s1">&#39;Point Kiukiu&#39;</span><span class="p">,</span> <span class="s1">&#39;Taaoa&#39;</span><span class="p">,</span> <span class="mi">15</span>
<span class="nx">show</span> <span class="nx">roads</span></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>Exercise 26</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="s1">&#39;--- Exercise 26 ---&#39;</span>
<span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">()</span> <span class="c1"># Replace this line with your solution</span>
<span class="nx">show</span> <span class="s1">&#39;--- End of Exercise ---&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>Build roads</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="s1">&#39;--- Build roads ---&#39;</span>
<span class="nv">roads = </span><span class="p">{}</span>
<span class="nx">makeRoads</span> <span class="s1">&#39;Point Kiukiu&#39;</span><span class="p">,</span>
  <span class="s1">&#39;Hanaiapa&#39;</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="s1">&#39;Mt Feani&#39;</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="s1">&#39;Taaoa&#39;</span><span class="p">,</span> <span class="mi">15</span>
<span class="nx">makeRoads</span> <span class="s1">&#39;Airport&#39;</span><span class="p">,</span>
  <span class="s1">&#39;Hanaiapa&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;Mt Feani&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span>
  <span class="s1">&#39;Atuona&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;Mt Ootua&#39;</span><span class="p">,</span> <span class="mi">11</span>
<span class="nx">makeRoads</span> <span class="s1">&#39;Mt Temetiu&#39;</span><span class="p">,</span>
  <span class="s1">&#39;Mt Feani&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;Taaoa&#39;</span><span class="p">,</span> <span class="mi">4</span>
<span class="nx">makeRoads</span> <span class="s1">&#39;Atuona&#39;</span><span class="p">,</span>
  <span class="s1">&#39;Taaoa&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;Hanakee pearl lodge&#39;</span><span class="p">,</span> <span class="mi">1</span>
<span class="nx">makeRoads</span> <span class="s1">&#39;Cemetery&#39;</span><span class="p">,</span>
  <span class="s1">&#39;Hanakee pearl lodge&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;Mt Ootua&#39;</span><span class="p">,</span> <span class="mi">5</span>
<span class="nx">makeRoads</span> <span class="s1">&#39;Hanapaoa&#39;</span><span class="p">,</span>
  <span class="s1">&#39;Mt Ootua&#39;</span><span class="p">,</span> <span class="mi">3</span>
<span class="nx">makeRoads</span> <span class="s1">&#39;Puamua&#39;</span><span class="p">,</span>
  <span class="s1">&#39;Mt Ootua&#39;</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="s1">&#39;Point Teohotepapapa&#39;</span><span class="p">,</span> <span class="mi">14</span>
<span class="nx">show</span> <span class="s1">&#39;Roads from the Airport:&#39;</span>
<span class="nx">show</span> <span class="nx">roads</span><span class="p">[</span><span class="s1">&#39;Airport&#39;</span><span class="p">]</span></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>Function roadsFrom</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="s1">&#39;--- Function roadsFrom ---&#39;</span>
<span class="nv">roadsFrom = </span><span class="nf">(place) -&gt;</span>
  <span class="nv">found = </span><span class="nx">roads</span><span class="p">[</span><span class="nx">place</span><span class="p">]</span>
  <span class="k">return</span> <span class="nx">found</span> <span class="k">if</span> <span class="nx">found</span><span class="o">?</span>
  <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span> <span class="s2">&quot;No place named &#39;#{place}&#39; found.&quot;</span>
    
<span class="k">try</span>
  <span class="nx">show</span> <span class="nx">roadsFrom</span> <span class="s2">&quot;Hanaiapa&quot;</span>
  <span class="nx">show</span> <span class="nx">roadsFrom</span> <span class="s2">&quot;Hanalapa&quot;</span>
<span class="k">catch</span> <span class="nx">error</span>
  <span class="nx">show</span> <span class="s2">&quot;Oops #{error}&quot;</span></pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <p>Function gamblerPath</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="s1">&#39;--- Function gamblerPath ---&#39;</span>
<span class="nv">gamblerPath = </span><span class="nf">(from, to) -&gt;</span>

  <span class="nv">randomInteger = </span><span class="nf">(below) -&gt;</span>
    <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">below</span>

  <span class="nv">randomDirection = </span><span class="nf">(from) -&gt;</span>
    <span class="nv">options = </span><span class="nx">roadsFrom</span> <span class="nx">from</span>
    <span class="nx">options</span><span class="p">[</span><span class="nx">randomInteger</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">length</span><span class="p">)].</span><span class="nx">to</span>

  <span class="nv">path = </span><span class="p">[]</span>
  <span class="nx">loop</span>
    <span class="nx">path</span><span class="p">.</span><span class="nx">push</span> <span class="nx">from</span>
    <span class="k">break</span> <span class="k">if</span> <span class="nx">from</span> <span class="o">==</span> <span class="nx">to</span>
    <span class="nv">from = </span><span class="nx">randomDirection</span> <span class="nx">from</span>
  <span class="nx">path</span>

<span class="nx">show</span> <span class="nx">gamblerPath</span> <span class="s1">&#39;Hanaiapa&#39;</span><span class="p">,</span> <span class="s1">&#39;Mt Feani&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <h2>Functional samples</h2>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <p>Member function 1</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="s1">&#39;--- Member function 1 ---&#39;</span>
<span class="nv">_member = </span><span class="nf">(array, value) -&gt;</span>
  <span class="nv">found = </span><span class="kc">false</span>
  <span class="nx">array</span><span class="p">.</span><span class="nx">forEach</span> <span class="nf">(element) -&gt;</span>
    <span class="k">if</span> <span class="nx">element</span> <span class="o">==</span> <span class="nx">value</span>
      <span class="nv">found = </span><span class="kc">true</span>
  <span class="nx">found</span>
<span class="nx">show</span> <span class="nx">_member</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;Bordeaux&quot;</span><span class="p">],</span> <span class="mi">7</span></pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p>forEach with break</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="s1">&#39;--- forEach with break ---&#39;</span>
<span class="nv">_break = toString: </span><span class="o">-&gt;</span> <span class="s2">&quot;Break&quot;</span>
<span class="nv">_forEach = </span><span class="nf">(array, action) -&gt;</span>
  <span class="k">try</span>
    <span class="k">for</span> <span class="nx">element</span> <span class="k">in</span> <span class="nx">array</span>
      <span class="nx">action</span> <span class="nx">element</span>
  <span class="k">catch</span> <span class="nx">exception</span>
    <span class="k">if</span> <span class="nx">exception</span> <span class="o">!=</span> <span class="nx">_break</span>
      <span class="k">throw</span> <span class="nx">exception</span>
<span class="nx">show</span> <span class="nx">_forEach</span> <span class="p">[</span><span class="mi">1</span><span class="p">..</span><span class="mi">3</span><span class="p">],</span> <span class="nf">(n) -&gt;</span> <span class="nx">n</span><span class="o">*</span><span class="nx">n</span></pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p>Which btw could in CoffeeScript be written as</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="p">(</span><span class="nx">i</span><span class="o">*</span><span class="nx">i</span> <span class="k">for</span> <span class="nx">i</span> <span class="k">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">..</span><span class="mi">3</span><span class="p">])</span></pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <p>Member function 2</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="s1">&#39;--- Member function 2 ---&#39;</span>
<span class="nv">_member = </span><span class="nf">(array, value) -&gt;</span>
  <span class="nv">found = </span><span class="kc">false</span>
  <span class="nx">_forEach</span> <span class="nx">array</span><span class="p">,</span> <span class="nf">(element) -&gt;</span>
    <span class="k">if</span> <span class="nx">element</span> <span class="o">==</span> <span class="nx">value</span>
      <span class="nv">found = </span><span class="kc">true</span>
      <span class="k">throw</span> <span class="nx">_break</span>
  <span class="nx">found</span>
<span class="nx">show</span> <span class="nx">_member</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;Bordeaux&quot;</span><span class="p">],</span> <span class="mi">7</span></pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <p>Member function 3</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="s1">&#39;--- Member function 3 ---&#39;</span>
<span class="nv">_member = </span><span class="nf">(array, value) -&gt;</span>
  <span class="nv">found = </span><span class="kc">false</span>
  <span class="k">for</span> <span class="nx">element</span> <span class="k">in</span> <span class="nx">array</span>
    <span class="k">if</span> <span class="nx">element</span> <span class="o">==</span> <span class="nx">value</span>
      <span class="nv">found = </span><span class="kc">true</span>
      <span class="k">break</span>
  <span class="nx">found</span>
<span class="nx">show</span> <span class="nx">_member</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;Bordeaux&quot;</span><span class="p">],</span> <span class="mi">7</span></pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <p>Operator in</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="s1">&#39;--- Operator in ---&#39;</span>
<span class="nx">show</span> <span class="mi">7</span> <span class="k">in</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;Bordeaux&quot;</span><span class="p">]</span></pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <p>Any function</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="s1">&#39;--- Any function ---&#39;</span>
<span class="nv">_any = </span><span class="nf">(array, test) -&gt;</span>
  <span class="k">for</span> <span class="nx">element</span> <span class="k">in</span> <span class="nx">array</span>
    <span class="k">if</span> <span class="nx">test</span> <span class="nx">element</span>
      <span class="k">return</span> <span class="kc">true</span>
  <span class="kc">false</span>
<span class="nx">show</span> <span class="nx">_any</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="nf">(n) -&gt;</span> <span class="nx">n</span> <span class="o">&lt;</span> <span class="mi">0</span>
<span class="nx">show</span> <span class="nx">_any</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="nf">(n) -&gt;</span> <span class="nx">n</span> <span class="o">&lt;</span> <span class="mi">0</span></pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <p>Using Underscore</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="nx">any</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="nf">(n) -&gt;</span> <span class="nx">n</span> <span class="o">&lt;</span> <span class="mi">0</span></pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>               <p>Redefining member with any</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">_member = </span><span class="nf">(array, value) -&gt;</span>
  <span class="nv">partial = </span><span class="nf">(func, a...) -&gt;</span> <span class="nf">(b...) -&gt;</span> <span class="nx">func</span> <span class="nx">a</span><span class="p">...,</span> <span class="nx">b</span><span class="p">...</span>
  <span class="nx">any</span> <span class="nx">array</span><span class="p">,</span> <span class="nx">partial</span> <span class="p">(</span><span class="nf">(a,b) -&gt;</span> <span class="nx">a</span> <span class="o">==</span> <span class="nx">b</span><span class="p">),</span> <span class="nx">value</span>
<span class="nx">show</span> <span class="nx">_member</span> <span class="p">[</span><span class="s2">&quot;Fear&quot;</span><span class="p">,</span> <span class="s2">&quot;Loathing&quot;</span><span class="p">],</span> <span class="s2">&quot;Denial&quot;</span>
<span class="nx">show</span> <span class="nx">_member</span> <span class="p">[</span><span class="s2">&quot;Fear&quot;</span><span class="p">,</span> <span class="s2">&quot;Loathing&quot;</span><span class="p">],</span> <span class="s2">&quot;Loathing&quot;</span></pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-19">&#182;</a>               </div>               <p>Every function</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="s1">&#39;--- Every function ---&#39;</span>
<span class="nv">_every = </span><span class="nf">(array, test) -&gt;</span>
  <span class="k">for</span> <span class="nx">element</span> <span class="k">in</span> <span class="nx">array</span>
    <span class="k">if</span> <span class="o">not</span> <span class="nx">test</span> <span class="nx">element</span>
      <span class="k">return</span> <span class="kc">false</span>
  <span class="kc">true</span>
<span class="nx">show</span> <span class="nx">_every</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="nf">(n) -&gt;</span> <span class="nx">n</span> <span class="o">!=</span> <span class="mi">0</span>
<span class="nx">show</span> <span class="nx">_every</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="nf">(n) -&gt;</span> <span class="nx">n</span> <span class="o">!=</span> <span class="mi">0</span>
<span class="nx">show</span> <span class="nx">every</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="nf">(n) -&gt;</span> <span class="nx">n</span> <span class="o">!=</span> <span class="mi">0</span> <span class="c1"># Using Underscore</span></pre></div>             </td>           </tr>                               <tr id="section-20">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-20">&#182;</a>               </div>               <p>Flatten function</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="s1">&#39;--- Flatten function ---&#39;</span>
<span class="nv">_flatten = </span><span class="nf">(array) -&gt;</span>
  <span class="nv">result = </span><span class="p">[]</span>
  <span class="k">for</span> <span class="nx">element</span> <span class="k">in</span> <span class="nx">array</span>
    <span class="k">if</span> <span class="nx">isArray</span> <span class="nx">element</span>
      <span class="nv">result = </span><span class="nx">result</span><span class="p">.</span><span class="nx">concat</span> <span class="nx">_flatten</span> <span class="nx">element</span>
    <span class="k">else</span>
      <span class="nx">result</span><span class="p">.</span><span class="nx">push</span> <span class="nx">element</span>
  <span class="nx">result</span>
<span class="nx">show</span> <span class="nx">_flatten</span> <span class="p">[[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span></pre></div>             </td>           </tr>                               <tr id="section-21">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-21">&#182;</a>               </div>               <p>Using Underscore</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="nx">flatten</span> <span class="p">[[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span></pre></div>             </td>           </tr>                               <tr id="section-22">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-22">&#182;</a>               </div>               <p>Exercise 27</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="s1">&#39;--- Exercise 27 ---&#39;</span>
<span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">()</span> <span class="c1"># Replace this line with your solution</span>
<span class="nx">show</span> <span class="s1">&#39;--- End of Exercise ---&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-23">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-23">&#182;</a>               </div>               <h2>End of Functional samples</h2>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-24">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-24">&#182;</a>               </div>               <p>Possible routes</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="s1">&#39;--- Possible routes ---&#39;</span>
<span class="nv">possibleRoutes = </span><span class="nf">(from, to) -&gt;</span>
  <span class="nv">findRoutes = </span><span class="nf">(route) -&gt;</span>
    <span class="nv">notVisited = </span><span class="nf">(road) -&gt;</span>
      <span class="o">not</span> <span class="p">(</span><span class="nx">road</span><span class="p">.</span><span class="nx">to</span> <span class="k">in</span> <span class="nx">route</span><span class="p">.</span><span class="nx">places</span><span class="p">)</span>
    <span class="nv">continueRoute = </span><span class="nf">(road) -&gt;</span>
      <span class="nx">findRoutes</span> 
        <span class="nv">places: </span><span class="nx">route</span><span class="p">.</span><span class="nx">places</span><span class="p">.</span><span class="nx">concat</span><span class="p">([</span><span class="nx">road</span><span class="p">.</span><span class="nx">to</span><span class="p">]),</span>
        <span class="nv">length: </span><span class="nx">route</span><span class="p">.</span><span class="nx">length</span> <span class="o">+</span> <span class="nx">road</span><span class="p">.</span><span class="nx">distance</span>
    <span class="nv">end = </span><span class="nx">route</span><span class="p">.</span><span class="nx">places</span><span class="p">[</span><span class="nx">route</span><span class="p">.</span><span class="nx">places</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
    <span class="k">if</span> <span class="nx">end</span> <span class="o">==</span> <span class="nx">to</span>
      <span class="p">[</span><span class="nx">route</span><span class="p">]</span>
    <span class="k">else</span>
      <span class="nx">flatten</span> <span class="nx">map</span> <span class="nx">filter</span><span class="p">(</span><span class="nx">roadsFrom</span><span class="p">(</span><span class="nx">end</span><span class="p">),</span> <span class="nx">notVisited</span><span class="p">),</span>
                  <span class="nx">continueRoute</span>
  <span class="nx">findRoutes</span> <span class="p">{</span><span class="nv">places: </span><span class="p">[</span><span class="nx">from</span><span class="p">],</span> <span class="nv">length: </span><span class="mi">0</span><span class="p">}</span>

<span class="nx">show</span> <span class="p">(</span><span class="nx">possibleRoutes</span> <span class="s1">&#39;Point Teohotepapapa&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;Point Kiukiu&#39;</span><span class="p">).</span><span class="nx">length</span>
<span class="nx">show</span> <span class="nx">possibleRoutes</span> <span class="s1">&#39;Hanapaoa&#39;</span><span class="p">,</span> <span class="s1">&#39;Mt Ootua&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-25">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-25">&#182;</a>               </div>               <p>Exercise 28</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="s1">&#39;--- Exercise 28 ---&#39;</span>
<span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">()</span> <span class="c1"># Replace this line with your solution</span>
<span class="nx">show</span> <span class="s1">&#39;--- End of Exercise ---&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-26">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-26">&#182;</a>               </div>               <p>Shortest route</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="s1">&#39;--- Shortest route ---&#39;</span>
<span class="nx">show</span> <span class="p">(</span><span class="nx">shortestRoute</span> <span class="s1">&#39;Point Kiukiu&#39;</span><span class="p">,</span>
  <span class="s1">&#39;Point Teohotepapapa&#39;</span><span class="p">).</span><span class="nx">places</span></pre></div>             </td>           </tr>                               <tr id="section-27">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-27">&#182;</a>               </div>               <p>Height map</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="s1">&#39;--- Height map ---&#39;</span>
<span class="nv">heightAt = </span><span class="nf">(point) -&gt;</span>
  <span class="nv">heights = </span><span class="p">[[</span><span class="mi">111</span><span class="p">,</span><span class="mi">111</span><span class="p">,</span><span class="mi">122</span><span class="p">,</span><span class="mi">137</span><span class="p">,</span><span class="mi">226</span><span class="p">,</span><span class="mi">192</span><span class="p">,</span><span class="mi">246</span><span class="p">,</span><span class="mi">275</span><span class="p">,</span><span class="mi">285</span><span class="p">,</span><span class="mi">333</span><span class="p">,</span><span class="mi">328</span><span class="p">,</span><span class="mi">264</span><span class="p">,</span><span class="mi">202</span><span class="p">,</span><span class="mi">175</span><span class="p">,</span><span class="mi">151</span><span class="p">,</span><span class="mi">222</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="mi">222</span><span class="p">,</span><span class="mi">219</span><span class="p">,</span><span class="mi">146</span><span class="p">]</span>
  <span class="p">[</span><span class="mi">205</span><span class="p">,</span><span class="mi">186</span><span class="p">,</span><span class="mi">160</span><span class="p">,</span><span class="mi">218</span><span class="p">,</span><span class="mi">217</span><span class="p">,</span><span class="mi">233</span><span class="p">,</span><span class="mi">268</span><span class="p">,</span><span class="mi">300</span><span class="p">,</span><span class="mi">316</span><span class="p">,</span><span class="mi">357</span><span class="p">,</span><span class="mi">276</span><span class="p">,</span><span class="mi">240</span><span class="p">,</span><span class="mi">240</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span><span class="mi">215</span><span class="p">,</span><span class="mi">201</span><span class="p">,</span><span class="mi">256</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">224</span><span class="p">,</span><span class="mi">200</span><span class="p">]</span>
  <span class="p">[</span><span class="mi">228</span><span class="p">,</span><span class="mi">176</span><span class="p">,</span><span class="mi">232</span><span class="p">,</span><span class="mi">258</span><span class="p">,</span><span class="mi">246</span><span class="p">,</span><span class="mi">289</span><span class="p">,</span><span class="mi">306</span><span class="p">,</span><span class="mi">351</span><span class="p">,</span><span class="mi">374</span><span class="p">,</span><span class="mi">388</span><span class="p">,</span><span class="mi">319</span><span class="p">,</span><span class="mi">333</span><span class="p">,</span><span class="mi">299</span><span class="p">,</span><span class="mi">307</span><span class="p">,</span><span class="mi">261</span><span class="p">,</span><span class="mi">286</span><span class="p">,</span><span class="mi">291</span><span class="p">,</span><span class="mi">355</span><span class="p">,</span><span class="mi">277</span><span class="p">,</span><span class="mi">258</span><span class="p">]</span>
  <span class="p">[</span><span class="mi">228</span><span class="p">,</span><span class="mi">207</span><span class="p">,</span><span class="mi">263</span><span class="p">,</span><span class="mi">264</span><span class="p">,</span><span class="mi">284</span><span class="p">,</span><span class="mi">348</span><span class="p">,</span><span class="mi">368</span><span class="p">,</span><span class="mi">358</span><span class="p">,</span><span class="mi">391</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">320</span><span class="p">,</span><span class="mi">344</span><span class="p">,</span><span class="mi">366</span><span class="p">,</span><span class="mi">382</span><span class="p">,</span><span class="mi">372</span><span class="p">,</span><span class="mi">394</span><span class="p">,</span><span class="mi">360</span><span class="p">,</span><span class="mi">314</span><span class="p">,</span><span class="mi">259</span><span class="p">,</span><span class="mi">207</span><span class="p">]</span>
  <span class="p">[</span><span class="mi">238</span><span class="p">,</span><span class="mi">237</span><span class="p">,</span><span class="mi">275</span><span class="p">,</span><span class="mi">315</span><span class="p">,</span><span class="mi">353</span><span class="p">,</span><span class="mi">355</span><span class="p">,</span><span class="mi">341</span><span class="p">,</span><span class="mi">332</span><span class="p">,</span><span class="mi">350</span><span class="p">,</span><span class="mi">315</span><span class="p">,</span><span class="mi">283</span><span class="p">,</span><span class="mi">310</span><span class="p">,</span><span class="mi">355</span><span class="p">,</span><span class="mi">350</span><span class="p">,</span><span class="mi">336</span><span class="p">,</span><span class="mi">405</span><span class="p">,</span><span class="mi">361</span><span class="p">,</span><span class="mi">273</span><span class="p">,</span><span class="mi">264</span><span class="p">,</span><span class="mi">228</span><span class="p">]</span>
  <span class="p">[</span><span class="mi">245</span><span class="p">,</span><span class="mi">264</span><span class="p">,</span><span class="mi">289</span><span class="p">,</span><span class="mi">340</span><span class="p">,</span><span class="mi">359</span><span class="p">,</span><span class="mi">349</span><span class="p">,</span><span class="mi">336</span><span class="p">,</span><span class="mi">303</span><span class="p">,</span><span class="mi">267</span><span class="p">,</span><span class="mi">259</span><span class="p">,</span><span class="mi">285</span><span class="p">,</span><span class="mi">340</span><span class="p">,</span><span class="mi">315</span><span class="p">,</span><span class="mi">290</span><span class="p">,</span><span class="mi">333</span><span class="p">,</span><span class="mi">372</span><span class="p">,</span><span class="mi">306</span><span class="p">,</span><span class="mi">254</span><span class="p">,</span><span class="mi">220</span><span class="p">,</span><span class="mi">220</span><span class="p">]</span>
  <span class="p">[</span><span class="mi">264</span><span class="p">,</span><span class="mi">287</span><span class="p">,</span><span class="mi">331</span><span class="p">,</span><span class="mi">365</span><span class="p">,</span><span class="mi">382</span><span class="p">,</span><span class="mi">381</span><span class="p">,</span><span class="mi">386</span><span class="p">,</span><span class="mi">360</span><span class="p">,</span><span class="mi">299</span><span class="p">,</span><span class="mi">258</span><span class="p">,</span><span class="mi">254</span><span class="p">,</span><span class="mi">284</span><span class="p">,</span><span class="mi">264</span><span class="p">,</span><span class="mi">276</span><span class="p">,</span><span class="mi">295</span><span class="p">,</span><span class="mi">323</span><span class="p">,</span><span class="mi">281</span><span class="p">,</span><span class="mi">233</span><span class="p">,</span><span class="mi">202</span><span class="p">,</span><span class="mi">160</span><span class="p">]</span>
  <span class="p">[</span><span class="mi">300</span><span class="p">,</span><span class="mi">327</span><span class="p">,</span><span class="mi">360</span><span class="p">,</span><span class="mi">355</span><span class="p">,</span><span class="mi">365</span><span class="p">,</span><span class="mi">402</span><span class="p">,</span><span class="mi">393</span><span class="p">,</span><span class="mi">343</span><span class="p">,</span><span class="mi">307</span><span class="p">,</span><span class="mi">274</span><span class="p">,</span><span class="mi">232</span><span class="p">,</span><span class="mi">226</span><span class="p">,</span><span class="mi">221</span><span class="p">,</span><span class="mi">262</span><span class="p">,</span><span class="mi">289</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">228</span><span class="p">,</span><span class="mi">160</span><span class="p">,</span><span class="mi">160</span><span class="p">]</span>
  <span class="p">[</span><span class="mi">343</span><span class="p">,</span><span class="mi">379</span><span class="p">,</span><span class="mi">373</span><span class="p">,</span><span class="mi">337</span><span class="p">,</span><span class="mi">309</span><span class="p">,</span><span class="mi">336</span><span class="p">,</span><span class="mi">378</span><span class="p">,</span><span class="mi">352</span><span class="p">,</span><span class="mi">303</span><span class="p">,</span><span class="mi">290</span><span class="p">,</span><span class="mi">294</span><span class="p">,</span><span class="mi">241</span><span class="p">,</span><span class="mi">176</span><span class="p">,</span><span class="mi">204</span><span class="p">,</span><span class="mi">235</span><span class="p">,</span><span class="mi">205</span><span class="p">,</span><span class="mi">203</span><span class="p">,</span><span class="mi">206</span><span class="p">,</span><span class="mi">169</span><span class="p">,</span><span class="mi">132</span><span class="p">]</span>
  <span class="p">[</span><span class="mi">348</span><span class="p">,</span><span class="mi">348</span><span class="p">,</span><span class="mi">364</span><span class="p">,</span><span class="mi">369</span><span class="p">,</span><span class="mi">337</span><span class="p">,</span><span class="mi">276</span><span class="p">,</span><span class="mi">321</span><span class="p">,</span><span class="mi">390</span><span class="p">,</span><span class="mi">347</span><span class="p">,</span><span class="mi">354</span><span class="p">,</span><span class="mi">309</span><span class="p">,</span><span class="mi">259</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">147</span><span class="p">,</span><span class="mi">158</span><span class="p">,</span><span class="mi">165</span><span class="p">,</span><span class="mi">169</span><span class="p">,</span><span class="mi">169</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">147</span><span class="p">]</span>
  <span class="p">[</span><span class="mi">320</span><span class="p">,</span><span class="mi">328</span><span class="p">,</span><span class="mi">334</span><span class="p">,</span><span class="mi">348</span><span class="p">,</span><span class="mi">354</span><span class="p">,</span><span class="mi">316</span><span class="p">,</span><span class="mi">254</span><span class="p">,</span><span class="mi">315</span><span class="p">,</span><span class="mi">303</span><span class="p">,</span><span class="mi">297</span><span class="p">,</span><span class="mi">283</span><span class="p">,</span><span class="mi">238</span><span class="p">,</span><span class="mi">229</span><span class="p">,</span><span class="mi">207</span><span class="p">,</span><span class="mi">156</span><span class="p">,</span><span class="mi">129</span><span class="p">,</span><span class="mi">128</span><span class="p">,</span><span class="mi">161</span><span class="p">,</span><span class="mi">174</span><span class="p">,</span><span class="mi">165</span><span class="p">]</span>
  <span class="p">[</span><span class="mi">297</span><span class="p">,</span><span class="mi">331</span><span class="p">,</span><span class="mi">304</span><span class="p">,</span><span class="mi">283</span><span class="p">,</span><span class="mi">283</span><span class="p">,</span><span class="mi">279</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="mi">243</span><span class="p">,</span><span class="mi">264</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span><span class="mi">226</span><span class="p">,</span><span class="mi">204</span><span class="p">,</span><span class="mi">155</span><span class="p">,</span><span class="mi">144</span><span class="p">,</span><span class="mi">154</span><span class="p">,</span><span class="mi">147</span><span class="p">,</span><span class="mi">120</span><span class="p">,</span><span class="mi">111</span><span class="p">,</span><span class="mi">129</span><span class="p">,</span><span class="mi">138</span><span class="p">]</span>
  <span class="p">[</span><span class="mi">302</span><span class="p">,</span><span class="mi">347</span><span class="p">,</span><span class="mi">332</span><span class="p">,</span><span class="mi">326</span><span class="p">,</span><span class="mi">314</span><span class="p">,</span><span class="mi">286</span><span class="p">,</span><span class="mi">223</span><span class="p">,</span><span class="mi">205</span><span class="p">,</span><span class="mi">202</span><span class="p">,</span><span class="mi">178</span><span class="p">,</span><span class="mi">160</span><span class="p">,</span><span class="mi">172</span><span class="p">,</span><span class="mi">171</span><span class="p">,</span><span class="mi">132</span><span class="p">,</span><span class="mi">118</span><span class="p">,</span><span class="mi">116</span><span class="p">,</span><span class="mi">114</span><span class="p">,</span> <span class="mi">96</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">75</span><span class="p">]</span>
  <span class="p">[</span><span class="mi">287</span><span class="p">,</span><span class="mi">317</span><span class="p">,</span><span class="mi">310</span><span class="p">,</span><span class="mi">293</span><span class="p">,</span><span class="mi">284</span><span class="p">,</span><span class="mi">235</span><span class="p">,</span><span class="mi">217</span><span class="p">,</span><span class="mi">305</span><span class="p">,</span><span class="mi">286</span><span class="p">,</span><span class="mi">229</span><span class="p">,</span><span class="mi">211</span><span class="p">,</span><span class="mi">234</span><span class="p">,</span><span class="mi">227</span><span class="p">,</span><span class="mi">243</span><span class="p">,</span><span class="mi">188</span><span class="p">,</span><span class="mi">160</span><span class="p">,</span><span class="mi">152</span><span class="p">,</span><span class="mi">129</span><span class="p">,</span><span class="mi">138</span><span class="p">,</span><span class="mi">101</span><span class="p">]</span>
  <span class="p">[</span><span class="mi">260</span><span class="p">,</span><span class="mi">277</span><span class="p">,</span><span class="mi">269</span><span class="p">,</span><span class="mi">243</span><span class="p">,</span><span class="mi">236</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">343</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">280</span><span class="p">,</span><span class="mi">220</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">280</span><span class="p">,</span><span class="mi">298</span><span class="p">,</span><span class="mi">288</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">210</span><span class="p">,</span><span class="mi">176</span><span class="p">,</span><span class="mi">163</span><span class="p">,</span><span class="mi">133</span><span class="p">,</span><span class="mi">112</span><span class="p">]</span>
  <span class="p">[</span><span class="mi">266</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">254</span><span class="p">,</span><span class="mi">254</span><span class="p">,</span><span class="mi">265</span><span class="p">,</span><span class="mi">307</span><span class="p">,</span><span class="mi">350</span><span class="p">,</span><span class="mi">311</span><span class="p">,</span><span class="mi">267</span><span class="p">,</span><span class="mi">276</span><span class="p">,</span><span class="mi">292</span><span class="p">,</span><span class="mi">355</span><span class="p">,</span><span class="mi">305</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="mi">223</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">197</span><span class="p">,</span><span class="mi">193</span><span class="p">,</span><span class="mi">166</span><span class="p">,</span><span class="mi">158</span><span class="p">]</span>
  <span class="p">[</span><span class="mi">306</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">328</span><span class="p">,</span><span class="mi">279</span><span class="p">,</span><span class="mi">287</span><span class="p">,</span><span class="mi">320</span><span class="p">,</span><span class="mi">377</span><span class="p">,</span><span class="mi">359</span><span class="p">,</span><span class="mi">289</span><span class="p">,</span><span class="mi">328</span><span class="p">,</span><span class="mi">367</span><span class="p">,</span><span class="mi">355</span><span class="p">,</span><span class="mi">271</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="mi">198</span><span class="p">,</span><span class="mi">163</span><span class="p">,</span><span class="mi">139</span><span class="p">,</span><span class="mi">155</span><span class="p">,</span><span class="mi">153</span><span class="p">,</span><span class="mi">190</span><span class="p">]</span>
  <span class="p">[</span><span class="mi">367</span><span class="p">,</span><span class="mi">357</span><span class="p">,</span><span class="mi">339</span><span class="p">,</span><span class="mi">330</span><span class="p">,</span><span class="mi">290</span><span class="p">,</span><span class="mi">323</span><span class="p">,</span><span class="mi">363</span><span class="p">,</span><span class="mi">374</span><span class="p">,</span><span class="mi">330</span><span class="p">,</span><span class="mi">331</span><span class="p">,</span><span class="mi">415</span><span class="p">,</span><span class="mi">446</span><span class="p">,</span><span class="mi">385</span><span class="p">,</span><span class="mi">308</span><span class="p">,</span><span class="mi">241</span><span class="p">,</span><span class="mi">190</span><span class="p">,</span><span class="mi">145</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">88</span><span class="p">,</span><span class="mi">145</span><span class="p">]</span>
  <span class="p">[</span><span class="mi">342</span><span class="p">,</span><span class="mi">362</span><span class="p">,</span><span class="mi">381</span><span class="p">,</span><span class="mi">359</span><span class="p">,</span><span class="mi">353</span><span class="p">,</span><span class="mi">353</span><span class="p">,</span><span class="mi">369</span><span class="p">,</span><span class="mi">391</span><span class="p">,</span><span class="mi">384</span><span class="p">,</span><span class="mi">372</span><span class="p">,</span><span class="mi">408</span><span class="p">,</span><span class="mi">448</span><span class="p">,</span><span class="mi">382</span><span class="p">,</span><span class="mi">358</span><span class="p">,</span><span class="mi">256</span><span class="p">,</span><span class="mi">178</span><span class="p">,</span><span class="mi">143</span><span class="p">,</span><span class="mi">125</span><span class="p">,</span> <span class="mi">85</span><span class="p">,</span><span class="mi">109</span><span class="p">]</span>
  <span class="p">[</span><span class="mi">311</span><span class="p">,</span><span class="mi">337</span><span class="p">,</span><span class="mi">358</span><span class="p">,</span><span class="mi">376</span><span class="p">,</span><span class="mi">330</span><span class="p">,</span><span class="mi">341</span><span class="p">,</span><span class="mi">342</span><span class="p">,</span><span class="mi">374</span><span class="p">,</span><span class="mi">411</span><span class="p">,</span><span class="mi">408</span><span class="p">,</span><span class="mi">421</span><span class="p">,</span><span class="mi">382</span><span class="p">,</span><span class="mi">271</span><span class="p">,</span><span class="mi">311</span><span class="p">,</span><span class="mi">246</span><span class="p">,</span><span class="mi">166</span><span class="p">,</span><span class="mi">132</span><span class="p">,</span><span class="mi">116</span><span class="p">,</span><span class="mi">108</span><span class="p">,</span> <span class="mi">72</span><span class="p">]]</span>
  <span class="nx">heights</span><span class="p">[</span><span class="nx">point</span><span class="p">.</span><span class="nx">y</span><span class="p">][</span><span class="nx">point</span><span class="p">.</span><span class="nx">x</span><span class="p">]</span>

<span class="nx">show</span> <span class="nx">heightAt</span> <span class="nv">x: </span> <span class="mi">0</span><span class="p">,</span> <span class="nv">y: </span> <span class="mi">0</span>
<span class="nx">show</span> <span class="nx">heightAt</span> <span class="nv">x: </span><span class="mi">11</span><span class="p">,</span> <span class="nv">y: </span><span class="mi">18</span></pre></div>             </td>           </tr>                               <tr id="section-28">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-28">&#182;</a>               </div>               <p>Same point</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="s1">&#39;--- Same point ---&#39;</span>
<span class="nv">weightedDistance = </span><span class="nf">(pointA, pointB) -&gt;</span>
  <span class="nv">heightDifference =</span>
    <span class="nx">heightAt</span><span class="p">(</span><span class="nx">pointB</span><span class="p">)</span> <span class="o">-</span> <span class="nx">heightAt</span><span class="p">(</span><span class="nx">pointA</span><span class="p">)</span>
  <span class="nv">climbFactor = </span><span class="k">if</span> <span class="nx">heightDifference</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="k">then</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">2</span>
  <span class="nv">flatDistance =</span>
    <span class="k">if</span> <span class="nx">pointA</span><span class="p">.</span><span class="nx">x</span> <span class="o">==</span> <span class="nx">pointB</span><span class="p">.</span><span class="nx">x</span> <span class="o">or</span> <span class="nx">pointA</span><span class="p">.</span><span class="nx">y</span> <span class="o">==</span> <span class="nx">pointB</span><span class="p">.</span><span class="nx">y</span>
      <span class="mi">100</span>
    <span class="k">else</span>
      <span class="mi">141</span>
  <span class="nx">flatDistance</span> <span class="o">+</span> <span class="nx">climbFactor</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span> <span class="nx">heightDifference</span>
<span class="nx">show</span> <span class="nx">weightedDistance</span> <span class="p">(</span><span class="nv">x: </span><span class="mi">0</span><span class="p">,</span> <span class="nv">y: </span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="nv">x: </span><span class="mi">1</span><span class="p">,</span> <span class="nv">y: </span><span class="mi">1</span><span class="p">)</span>

<span class="nv">point = </span><span class="nf">(x, y) -&gt;</span> <span class="p">{</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">}</span> <span class="c1"># Same as {x: x, y: y}</span>
<span class="nv">addPoints = </span><span class="nf">(a, b) -&gt;</span> <span class="nx">point</span> <span class="nx">a</span><span class="p">.</span><span class="nx">x</span> <span class="o">+</span> <span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">a</span><span class="p">.</span><span class="nx">y</span> <span class="o">+</span> <span class="nx">b</span><span class="p">.</span><span class="nx">y</span>
<span class="nv">samePoint = </span><span class="nf">(a, b) -&gt;</span> <span class="nx">a</span><span class="p">.</span><span class="nx">x</span> <span class="o">==</span> <span class="nx">b</span><span class="p">.</span><span class="nx">x</span> <span class="o">and</span> <span class="nx">a</span><span class="p">.</span><span class="nx">y</span> <span class="o">==</span> <span class="nx">b</span><span class="p">.</span><span class="nx">y</span>

<span class="nx">show</span> <span class="nx">samePoint</span> <span class="nx">addPoints</span><span class="p">(</span><span class="nx">point</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="nx">point</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)),</span>
                         <span class="nx">point</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-29">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-29">&#182;</a>               </div>               <p>Exercise 29</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="s1">&#39;--- Exercise 29 ---&#39;</span>
<span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">()</span> <span class="c1"># Replace this line with your solution</span>
<span class="nx">show</span> <span class="s1">&#39;--- End of Exercise ---&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-30">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-30">&#182;</a>               </div>               <p>Binary heap</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="s1">&#39;--- Binary heap ---&#39;</span>
<span class="nv">bh = </span><span class="nx">require</span> <span class="s1">&#39;./A2-BinaryHeap&#39;</span>
<span class="nx">globalize</span> <span class="nx">bh</span>

<span class="nv">heap = </span><span class="k">new</span> <span class="nx">BinaryHeap</span><span class="p">()</span>
<span class="nx">forEach</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="nf">(number) -&gt;</span>
  <span class="nx">heap</span><span class="p">.</span><span class="nx">push</span> <span class="nx">number</span>

<span class="k">while</span> <span class="nx">heap</span><span class="p">.</span><span class="nx">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span>
  <span class="nx">show</span> <span class="nx">heap</span><span class="p">.</span><span class="nx">pop</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-31">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-31">&#182;</a>               </div>               <p>Exercise 30</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="s1">&#39;--- Exercise 30 ---&#39;</span>
<span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">()</span> <span class="c1"># Replace this line with your solution</span>
<span class="nx">show</span> <span class="s1">&#39;--- End of Exercise ---&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-32">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-32">&#182;</a>               </div>               <p>Exercise 31</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="s1">&#39;--- Exercise 31 ---&#39;</span>
<span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">()</span> <span class="c1"># Replace this line with your solution</span>
<span class="nx">show</span> <span class="s1">&#39;--- End of Exercise ---&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-33">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-33">&#182;</a>               </div>               <p>Path finder</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="s1">&#39;--- Path finder ---&#39;</span>
<span class="nv">findRoute = </span><span class="nf">(from, to) -&gt;</span>
 
  <span class="nv">routeScore = </span><span class="nf">(route) -&gt;</span>
    <span class="k">if</span> <span class="nx">route</span><span class="p">.</span><span class="nx">score</span> <span class="o">is</span> <span class="kc">undefined</span>
      <span class="nv">route.score = </span><span class="nx">route</span><span class="p">.</span><span class="nx">length</span> <span class="o">+</span>
        <span class="nx">estimatedDistance</span> <span class="nx">route</span><span class="p">.</span><span class="nx">point</span><span class="p">,</span> <span class="nx">to</span>
    <span class="nx">route</span><span class="p">.</span><span class="nx">score</span>

  <span class="nv">addOpenRoute = </span><span class="nf">(route) -&gt;</span>
    <span class="nx">open</span><span class="p">.</span><span class="nx">push</span> <span class="nx">route</span>
    <span class="nx">storeReached</span> <span class="nx">reached</span><span class="p">,</span> <span class="nx">route</span><span class="p">.</span><span class="nx">point</span><span class="p">,</span> <span class="nx">route</span>

  <span class="nv">open = </span><span class="k">new</span> <span class="nx">BinaryHeap</span> <span class="nx">routeScore</span>
  <span class="nv">reached = </span><span class="nx">makeReachedList</span><span class="p">()</span>
  <span class="nx">addOpenRoute</span> <span class="nv">point: </span><span class="nx">from</span><span class="p">,</span> <span class="nv">length: </span><span class="mi">0</span>

  <span class="k">while</span> <span class="nx">open</span><span class="p">.</span><span class="nx">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span>
    <span class="nv">route = </span><span class="nx">open</span><span class="p">.</span><span class="nx">pop</span><span class="p">()</span>
    <span class="k">if</span> <span class="nx">samePoint</span> <span class="nx">route</span><span class="p">.</span><span class="nx">point</span><span class="p">,</span> <span class="nx">to</span>
      <span class="k">return</span> <span class="nx">route</span>

    <span class="nx">forEach</span> <span class="nx">possibleDirections</span><span class="p">(</span><span class="nx">route</span><span class="p">.</span><span class="nx">point</span><span class="p">),</span>
      <span class="nf">(direction) -&gt;</span>
        <span class="nv">known = </span><span class="nx">findReached</span> <span class="nx">reached</span><span class="p">,</span> <span class="nx">direction</span>
        <span class="nv">newLength = </span><span class="nx">route</span><span class="p">.</span><span class="nx">length</span> <span class="o">+</span>
          <span class="nx">weightedDistance</span> <span class="nx">route</span><span class="p">.</span><span class="nx">point</span><span class="p">,</span> <span class="nx">direction</span>
        <span class="k">if</span> <span class="o">not</span> <span class="nx">known</span> <span class="o">or</span> <span class="nx">known</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="nx">newLength</span>
          <span class="k">if</span> <span class="nx">known</span>
            <span class="nx">open</span><span class="p">.</span><span class="nx">remove</span> <span class="nx">known</span>
          <span class="nx">addOpenRoute</span>
            <span class="nv">point: </span> <span class="nx">direction</span><span class="p">,</span>
            <span class="nv">from: </span>  <span class="nx">route</span><span class="p">,</span>
            <span class="nv">length: </span><span class="nx">newLength</span>
  <span class="k">return</span> <span class="kc">null</span></pre></div>             </td>           </tr>                               <tr id="section-34">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-34">&#182;</a>               </div>               <p>Show route</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="s1">&#39;--- Show route ---&#39;</span>
<span class="nv">traverseRoute = </span><span class="nf">(routes..., func) -&gt;</span>
  <span class="nx">each</span> <span class="p">[</span><span class="nx">routes</span><span class="p">...],</span> <span class="nf">(route) -&gt;</span>
    <span class="k">while</span> <span class="nx">route</span>
      <span class="nx">func</span>
        <span class="nv">x: </span><span class="nx">route</span><span class="p">.</span><span class="nx">point</span><span class="p">.</span><span class="nx">x</span>
        <span class="nv">y: </span><span class="nx">route</span><span class="p">.</span><span class="nx">point</span><span class="p">.</span><span class="nx">y</span>
      <span class="nv">route = </span><span class="nx">route</span><span class="p">.</span><span class="nx">from</span>

<span class="nv">showRoute = </span><span class="nf">(routes...) -&gt;</span>
  <span class="nx">traverseRoute</span> <span class="nx">routes</span><span class="p">...,</span> <span class="nx">show</span>

<span class="nv">route = </span><span class="nx">findRoute</span> <span class="nx">point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="nx">point</span><span class="p">(</span><span class="mi">19</span><span class="p">,</span> <span class="mi">19</span><span class="p">)</span>
<span class="nx">showRoute</span> <span class="nx">route</span></pre></div>             </td>           </tr>                               <tr id="section-35">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-35">&#182;</a>               </div>               <p>Multiple routes</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="s1">&#39;--- Multiple routes ---&#39;</span>
<span class="nx">showRoute</span> <span class="nx">findRoute</span><span class="p">(</span><span class="nx">point</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">),</span> <span class="nx">point</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">17</span><span class="p">)),</span>
          <span class="nx">findRoute</span><span class="p">(</span><span class="nx">point</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">17</span><span class="p">),</span> <span class="nx">point</span><span class="p">(</span><span class="mi">19</span><span class="p">,</span> <span class="mi">19</span><span class="p">))</span></pre></div>             </td>           </tr>                               <tr id="section-36">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-36">&#182;</a>               </div>               <p>Route canvas</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">show</span> <span class="s1">&#39;--- Route canvas ---&#39;</span>
<span class="nv">webpage = </span><span class="nx">kup</span><span class="p">.</span><span class="nx">render</span> <span class="o">-&gt;</span> 
  <span class="nx">doctype</span> <span class="mi">5</span>
  <span class="nx">html</span> <span class="o">-&gt;</span>
    <span class="nx">head</span> <span class="o">-&gt;</span>
      <span class="nx">meta</span> <span class="nv">charset: </span><span class="s1">&#39;utf-8&#39;</span>
      <span class="nx">title</span> <span class="s1">&#39;Route&#39;</span>
      <span class="nx">style</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">        body {font-family: sans-serif}</span>
<span class="s1">        header, nav, section, footer {display: block}</span>

<span class="s1">#DIVIDER</span>
<span class="s1">      &#39;&#39;&#39;</span>
      <span class="nx">coffeescript</span> <span class="o">-&gt;</span>
        <span class="nv">wsUri = </span><span class="s1">&#39;ws://localhost:8080/&#39;</span>
        <span class="nv">show = </span><span class="nf">(msg) -&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span> <span class="nx">msg</span>
        <span class="nv">circle = </span><span class="nf">(ctx, x, y) -&gt;</span>
          <span class="nv">ctx.strokeStyle = </span><span class="s1">&#39;rgba(255,40,20,1)&#39;</span>
          <span class="nv">ctx.fillStyle = </span><span class="s1">&#39;rgba(255,40,20,0.7)&#39;</span>
          <span class="nv">ctx.shadowOffsetX = </span><span class="mi">5</span>
          <span class="nv">ctx.shadowOffsetY = </span><span class="mi">5</span>
          <span class="nv">ctx.shadowBlur = </span><span class="mi">10</span>
          <span class="nv">ctx.shadowColor = </span><span class="s1">&#39;black&#39;</span>
          <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">()</span>
          <span class="nx">ctx</span><span class="p">.</span><span class="nx">arc</span> <span class="nx">x</span><span class="o">*</span><span class="mi">30</span><span class="o">+</span><span class="mi">15</span><span class="p">,</span> <span class="nx">y</span><span class="o">*</span><span class="mi">30</span><span class="o">+</span><span class="mi">15</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="kc">false</span>
          <span class="nx">ctx</span><span class="p">.</span><span class="nx">stroke</span><span class="p">()</span>
          <span class="nx">ctx</span><span class="p">.</span><span class="nx">fill</span><span class="p">()</span>
        <span class="nb">window</span><span class="p">.</span><span class="nv">onload = </span><span class="o">-&gt;</span>
          <span class="nv">canvas = </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span> <span class="s1">&#39;drawCanvas&#39;</span>
          <span class="nv">context = </span><span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span> <span class="s1">&#39;2d&#39;</span>
          <span class="nv">websocket = </span><span class="k">new</span> <span class="nx">WebSocket</span> <span class="nx">wsUri</span>
          <span class="nv">websocket.onopen = </span><span class="nf">(evt) -&gt;</span> <span class="nx">show</span> <span class="nx">evt</span>
          <span class="nv">websocket.onclose = </span><span class="nf">(evt) -&gt;</span> <span class="nx">show</span> <span class="nx">evt</span>
          <span class="nv">websocket.onerror = </span><span class="nf">(evt) -&gt;</span> <span class="nx">show</span> <span class="nx">evt</span>
          <span class="nv">websocket.onmessage = </span><span class="nf">(evt) -&gt;</span>
            <span class="nx">show</span> <span class="nx">evt</span>
            <span class="nv">vals = </span><span class="nx">evt</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">split</span> <span class="s1">&#39; &#39;</span>
            <span class="nv">x = </span><span class="nb">parseInt</span> <span class="nx">vals</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">10</span>
            <span class="nv">y = </span><span class="nb">parseInt</span> <span class="nx">vals</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">10</span>
            <span class="nx">circle</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span>
            <span class="k">return</span>
          <span class="k">return</span>
    <span class="nx">body</span> <span class="o">-&gt;</span>
      <span class="nx">header</span> <span class="o">-&gt;</span> <span class="nx">h1</span> <span class="s1">&#39;Route&#39;</span>
      <span class="nx">div</span> <span class="nv">id: </span><span class="s1">&#39;background&#39;</span><span class="p">,</span> <span class="o">-&gt;</span>
        <span class="nx">img</span> <span class="nv">src: </span><span class="s1">&#39;../img/height.png&#39;</span>
        <span class="nx">canvas</span> <span class="nv">id: </span><span class="s1">&#39;drawCanvas&#39;</span><span class="p">,</span> <span class="nv">width: </span><span class="mi">600</span><span class="p">,</span> <span class="nv">height: </span><span class="mi">600</span>

<span class="nv">renderRoute = </span><span class="nf">(routes...) -&gt;</span>
  <span class="nv">wsHandler = </span><span class="nf">(websocket) -&gt;</span>
    <span class="nx">websocket</span><span class="p">.</span><span class="kc">on</span> <span class="s1">&#39;connect&#39;</span><span class="p">,</span> <span class="nf">(resource) -&gt;</span>
      <span class="nx">traverseRoute</span> <span class="nx">routes</span><span class="p">...,</span> <span class="nf">(point) -&gt;</span>
        <span class="nx">websocket</span><span class="p">.</span><span class="nx">write</span> <span class="s2">&quot;#{point.x} #{point.y}&quot;</span>
  <span class="nv">wsServer = </span><span class="nx">ws</span><span class="p">.</span><span class="nx">createServer</span> <span class="nx">wsHandler</span>
  <span class="nx">wsServer</span><span class="p">.</span><span class="nx">listen</span> <span class="mi">8080</span>
  <span class="nx">viewServer</span> <span class="nx">webpage</span>

<span class="nx">renderRoute</span> <span class="nx">findRoute</span><span class="p">(</span><span class="nx">point</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">),</span> <span class="nx">point</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">17</span><span class="p">)),</span>
            <span class="nx">findRoute</span><span class="p">(</span><span class="nx">point</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">17</span><span class="p">),</span> <span class="nx">point</span><span class="p">(</span><span class="mi">19</span><span class="p">,</span> <span class="mi">19</span><span class="p">))</span>

<span class="nx">setTimeout</span> <span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">,</span> <span class="mi">5000</span>

</pre></div>             </td>           </tr>                               <tr id="section-37">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-37">&#182;</a>               </div>               <p>background {position: absolute; top: 80px; left: 20px}
drawCanvas {position: absolute; top: 0px; left: 0px}</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 