<html>
<head>
<meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" />
<link rel="stylesheet" type="text/css" href="code.css" />
<style></style>
</head>
<body>
<pre>
cs '''
randomColor = () ->
  r = Math.floor (Math.random() * 256)
  g = Math.floor (Math.random() * 256)
  b = Math.floor (Math.random() * 256)
  a = Math.random()
  return "rgba(#{r},#{g},#{b},#{a})"

setCanvas= () ->
  c = el document.body, 'canvas'
  c.width = 1024
  c.height = 1024
  c.style.background = randomColor()
  ctx = c.getContext '2d'

  document.ontouchstart = (e) ->
    ctx.restore()
    ctx.lineWidth = Math.random() * 10
    ctx.strokeStyle = randomColor()
    ctx.beginPath()
    x = e.touches[0].pageX
    y = e.touches[0].pageY
    ctx.moveTo x, y

  document.ontouchmove = (e) ->
    e.preventDefault();
    length = e.touches.length
    x = e.touches[0].pageX
    y = e.touches[0].pageY
    ctx.lineTo x, y
    ctx.stroke()

  document.ontouchend = (e) ->
    ctx.save()

setCanvas()
'''
</pre>
<script type="text/coffeescript" src="code.coffee"></script>
<script tyoe="text/javascript" src="coffee-script.js"></script>
</body>
</html>

